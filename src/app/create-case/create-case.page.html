<ion-header>
  <app-header color="primary" [showMenu]="false">
    <ion-back-button></ion-back-button>
  </app-header>
</ion-header>

<ion-content class="ion-padding">
  <app-logo> </app-logo>
  <form [formGroup]="create" novalidate>
    <div class="form-fields">
      <div *ngFor="let field of fields">
        <ion-item>
          <ion-label position="floating">{{field.label | translate}}
            <span *ngIf="field.required" class="required-field"> * </span>
          </ion-label>
          <ion-icon name="{{icon.name}}" slot="{{icon.slot}}" *ngFor="let icon of field.icons"
            [ngClass]="{'start-slot':icon.slot=='start', 'patternMatch' : icon.slot == 'end' && field.patternMatch}">
          </ion-icon>
          <ion-input type="{{field.type}}" [formControlName]="field.name" placeholder={{field.placeholder}}
            (ionChange)="checkPattern(field)" value={{field.value}} [(ngModel)]="field.value"> </ion-input>
        </ion-item>
        <ng-container>
          <span class="required-field"
            *ngIf="(field?.required && create.controls[field.name].touched  && create.controls[field.name].errors?.required) ">
            {{field.label | translate}} is required.
          </span>
          <span *ngIf="field.value && field.pattern && !field.patternMatch" class="required-field">
            Please enter valid {{field.label | translate}}.
          </span>
        </ng-container>
      </div>
      <h4>
        Upload Documents 
      </h4>
      <div class="img-block">
        <div  class="upload-image">
          <ion-icon class="icon-trash" name="close-circle-outline"  *ngIf="suspectImg" (click)="deleteImageAlert('Suspect')"></ion-icon>
          <img src="{{suspectPreview}}" *ngIf="suspectImg" >
          <div *ngIf="!suspectImg" (click)="suspect()">
            Upload Suspect Photo  
            </div>
        </div>
        <div  class="upload-image">
          <ion-icon class="icon-trash" name="close-circle-outline"  *ngIf="front" (click)="deleteImageAlert('Front id')"></ion-icon>
          <img src="{{frontPreview}}" *ngIf="front" >
          <div *ngIf="!front" (click)="addFrontId()">
            Upload Id front page 
            </div>
        </div>
       
        <div  class="upload-image">
          <ion-icon class="icon-trash" name="close-circle-outline"  *ngIf="back" (click)="deleteImageAlert('Back id')"></ion-icon>
          <img src="{{backPreview}}" *ngIf="back" >
          <div *ngIf="!back" (click)="addBackId()">
            Upload Id back page
            </div>
        </div>
  
         
        <div class="upload-image">
          <ion-icon class="icon-trash" name="close-circle-outline"  *ngIf="vehicleImg" (click)="deleteImageAlert('Vehicle')"></ion-icon>
          <img src="{{vehiclePreview}}" *ngIf="vehicleImg" >
          <div *ngIf="!vehicleImg" (click)="vehicle()">
            Upload Vehicle Photo  
            </div>
        </div>
      </div>
    </div>
    <ion-button (click)="createCase()" expand="block" [disabled]="!create.valid">
      Submit</ion-button>
  </form>
</ion-content>